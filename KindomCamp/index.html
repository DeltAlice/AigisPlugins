<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="./css/semantic.min.css">
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>
    <div class="ui container">
        <div class="ui divider"></div>
        <div class="ui inverted segment">
            <button class="rareChoose large ui active inverted black button" rare="5">黑</button>
            <button class="rareChoose large ui active inverted button" rare="4">白</button>
            <button class="rareChoose large ui active inverted blue button" rare="7">蓝</button>
            <button class="rareChoose large ui active inverted yellow button" rare="3">金</button>
            <button class="rareChoose large ui inverted violet button" rare="2">银</button>
            <button class="rareChoose large ui inverted red button" rare="1">铜</button>
            <button class="rareChoose large ui inverted teal button" rare="0">铁</button>
        </div>
        <div id="fixdiv" class="ui divider"></div>
        <div id="planL">
            <div class="ui two column grid" v-if="planList">
                
                <div class="ui message column" v-for="(plan,key, index) in planList":plid="key">
                        <i class="close icon"></i>
                    <div class="header">{{plan.unit.name}}</div>
                            <p>{{"目标：&emsp;"+plan.targetStgName+"&emsp;"+plan.targetLv}}</p>

                            <div class="ui three column grid" v-for="(step,i) in plan.startPoint" v-if="plan.restExp[i]">
                                    <div class="column"> {{"→&nbsp;"+stageName[plan.unit.classStage+i]}}</div>
                                    <div class="column" v-if="plan.bucketNum[i]">{{step[0]+"&nbsp;["+step[1]+"]"}}</div>
                                    <div class="column" v-if="plan.bucketNum[i]">{{"+&nbsp;拌饭&nbsp;×&nbsp;"+plan.bucketNum[i]}}</div>
                                    <div class="column" v-else>{{"+&nbsp;"+plan.feedExp[i]}}</div>
                            </div>


                </div>
            </div>
            <div class="ui divider" v-show="planList[0]"></div>
        </div>
        <table class="ui sortable celled compact inverted  selectable table">
            <thead>
                <tr class="center aligned">
                    <th class="sorted descending two wide digit">ID</th>
                    <th class="sorted descending four wide">名字</th>
                    <th class="sorted descending two wide digit">等级</th>
                    <th class="sorted descending two wide digit">技能等级</th>
                    <th class="sorted descending two wide digit">Cost</th>
                    <th class="sorted descending one wide digit">好感</th>
                    <th class="sorted descending two wide">阶段</th>
                    <th class="sorted descending one wide">功能</th>
                </tr>
            </thead>
            <tbody id="unitsTable">
                <tr v-for="(unit,key, index) in unitsList" v-show="rareShow[unit.rare]" class="center aligned">
                    <td>{{unit.unitID}}</td>
                    <td>{{unit.name}}</td>
                    <td>{{unit.Lv+" ["+unit.nextExp+"]"}}</td>
                    <td>{{unit.skillLv}}</td>
                    <td>{{unit.cost+" ["+unit.remainCost+"]"}}</td>
                    <td>{{unit.affection}}</td>
                    <td>{{stageName[unit.classStage]}}</td>
                    <td>
                        <i v-bind:pUnit="key" class="link inverted add to calendar icon"></i>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="ui modal">
        <i class="close icon"></i>
        <div class="header">
            制订育成计划
        </div>
        <div class="content">
            <div class="ui form">
                <div id="unitSelectedInfo" class="ui attached message">
                    <div class="header" >
                        <div class="ui grid">
                            <div class="nine wide column">{{unitInfo.name}}</div>
                            <div class="seven wide column unitLvInfo">{{"Lv&nbsp;"+unitInfo.lv+"&emsp;"+stageName[unitInfo.classStage]}}</div>
                        </div>
                        
                    </div>
                </div>
                <div class="ui attached segment">
                    <div class="two fields">
                        <div id="chooseStage" class="field">
                            <select class="ui simple dropdown" tabindex="-1">
                                <option v-for="(s,key) in stageName" :value="key" :selected="!isReachable[key-1]&&isReachable[key]" v-show="isReachable[key]"
                                    class="item">{{s}}</option>
                            </select>
                        </div>
                        <div class="field">
                            <input id="setLv" placeholder="到职阶最大等级" type="text">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="actions">
            <div class="ui black deny button">
                取消
            </div>
            <div id="addToPlan" class="ui positive right labeled icon button">
                确认
                <i class="checkmark icon"></i>
            </div>
        </div>


    </div>
</body>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script>if (typeof module === 'object') { window.jQuery = window.$ = module.exports; };</script>
<script src="./js/semantic.min.js"></script>
<script src="./js/tablesort.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="./js/main.js"></script>

</html>